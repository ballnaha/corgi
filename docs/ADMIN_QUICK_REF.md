# üöÄ Quick Reference: Admin Notification

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô

### 1Ô∏è‚É£ ‡∏´‡∏≤ LINE User ID
```
https://developers.line.biz/console/
‚Üí Provider ‚Üí Channel ‚Üí Messaging API
‚Üí "Your user ID" ‚Üí ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å (Uxxxxx...)
```

### 2Ô∏è‚É£ ‡πÄ‡∏û‡∏¥‡πà‡∏° Environment Variable
```bash
# ‡πÑ‡∏ü‡∏•‡πå: .env.local
LINE_ADMIN_USER_ID=U1234567890abcdefghijklmnopqrstu
```

### 3Ô∏è‚É£ Restart Application
```bash
npm run dev
# ‡∏´‡∏£‡∏∑‡∏≠ production: npm start
```

---

## ‚úÖ Checklist

- [ ] ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ö Official Account ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡πÑ‡∏î‡πâ LINE User ID ‡πÅ‡∏•‡πâ‡∏ß (‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `U`, ‡∏¢‡∏≤‡∏ß 33 ‡∏ï‡∏±‡∏ß)
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏° `LINE_ADMIN_USER_ID` ‡πÉ‡∏ô `.env.local` ‡πÅ‡∏•‡πâ‡∏ß
- [ ] Restart application ‡πÅ‡∏•‡πâ‡∏ß
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö notification

---

## üîç Troubleshooting

| ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ | ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ |
|-------|--------|
| ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö notification | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö User ID ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà |
| Error: Invalid user ID | ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ `U` ‡πÅ‡∏•‡∏∞‡∏¢‡∏≤‡∏ß 33 ‡∏ï‡∏±‡∏ß |
| ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö | Restart application |
| Notification ‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤ | ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Channel Access Token |

---

## üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö

```
üîî ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÉ‡∏´‡∏°‡πà!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Order: #OR12345678
‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤: ‡∏Ñ‡∏∏‡∏ì ABC
‡πÄ‡∏ö‡∏≠‡∏£‡πå: 081-xxx-xxxx
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
ÔøΩÔ∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (3 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
1. ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ A    x2  ‡∏ø500
2. ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ B    x1  ‡∏ø800
3. ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ C    x3  ‡∏ø200
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
ÔøΩüí≥ ‡∏¢‡∏≠‡∏î: ‡∏ø1,500
‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‚è≥/‚úÖ
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏ï‡πá‡∏°]
```

---

## üéØ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏£‡∏π‡πâ

### ‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà?
‚úÖ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á)  
‚úÖ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ö‡∏±‡∏ï‡∏£ (Stripe)

### ‡∏™‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£?
‚úÖ Order Number  
‚úÖ ‡∏ä‡∏∑‡πà‡∏≠ + ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤  
‚úÖ **‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (3 ‡∏≠‡∏±‡∏ô‡πÅ‡∏£‡∏Å + ‡∏£‡∏≤‡∏Ñ‡∏≤)**  
‚úÖ ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô (‡∏°‡∏±‡∏î‡∏à‡∏≥/‡πÄ‡∏ï‡πá‡∏°)  
‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞  
‚úÖ ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á  

### ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà?
‚ùå ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤  
‚ùå ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÉ‡∏™‡πà‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤  
‚ùå ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ login  

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- [LINE_ADMIN_NOTIFICATION.md](./LINE_ADMIN_NOTIFICATION.md) - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
- [HOW_TO_GET_LINE_USER_ID.md](./HOW_TO_GET_LINE_USER_ID.md) - ‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏≤ User ID
- [LINE_NOTIFICATION_EXAMPLES.md](./LINE_NOTIFICATION_EXAMPLES.md) - ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°

---

## üîí Security

‚ö†Ô∏è **‡∏´‡πâ‡∏≤‡∏°:**
- ‚ùå Commit `.env.local` ‡∏•‡∏á Git
- ‚ùå ‡πÅ‡∏ä‡∏£‡πå User ID ‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô
- ‚ùå ‡πÉ‡∏ä‡πâ User ID ‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

‚úÖ **‡∏Ñ‡∏ß‡∏£:**
- ‚úÖ ‡πÉ‡∏ä‡πâ account ‡πÅ‡∏¢‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö admin
- ‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î 2FA ‡πÉ‡∏ô LINE account
- ‚úÖ Backup `.env.local` ‡πÑ‡∏ß‡πâ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

---

## üß™ Test Commands

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á notification (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ test endpoint)
```bash
curl http://localhost:3000/api/line/test-admin-notify
```

### ‡∏î‡∏π User ID ‡∏à‡∏≤‡∏Å session
```javascript
// Developer Tools Console
fetch('/api/auth/session')
  .then(r => r.json())
  .then(d => console.log(d.user?.lineUserId))
```

---

## üìû Support

‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö logs ‡πÉ‡∏ô console
2. ‡∏î‡∏π‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÉ‡∏ô `/docs`
3. ‡∏•‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢ test script

---

**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0  
**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:** 4 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
